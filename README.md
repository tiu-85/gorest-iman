# gorest-iman
Тестовое задание на прохождение интервью в компании Iman.

# Описание
Реализована система состоящая из 3 микросервисов, которая дает возможность собрать информацию из внешнего источника. 
Код написан в парадигме "Чистая архитектура", для DI используется модуль fx. Для обращения к внешнему API реализован http клиент.
Значения используемых переменных можно задать в .env файле. Межсервисное обращение реализовано через протокол grpc. Обращение в БД выполнено через репозитории, которые используют подключение через модуль go-pg и поддерживают транзакции. 

# Команды

* `make buf_generate` - генерация proto (используется при необходимости вносить изменения в proto)
* `make up-infra` - поднимает инфрастуктуру, в частности postgres и выполняет предварительно скрипт, который создает необходимые схемы, таблицы и другие сущности БД
* `make up-services` - поднимает все сервисы: `api-gateway`, `post-crud` и `post-fetch`
* `make down-infra` - останавливает инфрастуктуру и удаляет контейнер `postgres`
* `make down-services` - останавливает сервисы и удаляет контейеры

